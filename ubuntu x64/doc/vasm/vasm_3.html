<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 13, 2015 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>vasm manual: 4. Mot Syntax Module</title>

<meta name="description" content="vasm manual: 4. Mot Syntax Module">
<meta name="keywords" content="vasm manual: 4. Mot Syntax Module">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="vasm_2.html#Standard-Syntax-Module" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="vasm_4.html#Oldstyle-Syntax-Module" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="vasm_0.html#General-9" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="vasm_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="vasm_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<hr size="2">
<a name="Mot-Syntax-Module"></a>
<a name="Mot-Syntax-Module-1"></a>
<h1 class="chapter">4. Mot Syntax Module</h1>
<p>This chapter describes the Motorola syntax module, mostly used for the
M68k and ColdFire families of CPUs, which is available with the extension
<code>mot</code>.
</p>
<hr size="6">
<a name="Legal-5"></a>
<h2 class="section">4.1 Legal</h2>

<p>    This module is copyright in 2002-2015 by Frank Wille.
</p>
<p>    This archive may be redistributed without modifications and used
    for non-commercial purposes.
</p>
<p>    Distributing modified versions and commercial usage needs my written
    consent.
</p>
<p>    Certain modules may fall under additional copyrights.
</p>
<hr size="6">
<a name="Additional-options-for-this-version-2"></a>
<h2 class="section">4.2 Additional options for this version</h2>
 
<p>This syntax module provides the following additional options:
</p> 
<dl compact="compact">
<dt> &lsquo;<samp>-align</samp>&rsquo;</dt>
<dd><p> Enables natural alignment for data (e.g. <code>dc.?</code>, <code>ds.?</code>) and
 offset directives (<code>rs.?</code>, <code>so.?</code>, <code>fo.?</code>).
</p>
</dd>
<dt> &lsquo;<samp>-allmp</samp>&rsquo;</dt>
<dd><p> Makes all 35 macro arguments available. Default is 9 (<code>\1</code> to
 <code>\9</code>). More arguments can be accessed through <code>\a</code> to
 <code>\z</code>) which may conflict with escape characters or named arguments,
 therefore they are not enabled by default.
</p>
</dd>
<dt> &lsquo;<samp>-devpac</samp>&rsquo;</dt>
<dd><p> Devpac-compatibility mode. Only directives known to Devpac are recognized.
</p><ul class="toc">
<li>- Enables natural alignment for data and structure offsets
        (see option &lsquo;<samp>-align</samp>&rsquo;).
  </li><li>- Predefines offset symbols <code>__RS</code>, <code>__SO</code> and <code>__FO</code> as
        <code>0</code>, which otherwise are undefined until first referenced.
  </li><li>- Disable escape codes handling in strings (see &lsquo;<samp>-noesc</samp>&rsquo;).
  </li><li>- Enable dots within identifiers (see &lsquo;<samp>-ldots</samp>&rsquo;).
  </li><li>- Up to 35 macro arguments.
</li></ul>

</dd>
<dt> &lsquo;<samp>-ldots</samp>&rsquo;</dt>
<dd><p> Allow dots (<code>.</code>) within all identifiers.
</p>
</dd>
<dt> &lsquo;<samp>-localu</samp>&rsquo;</dt>
<dd><p> Local symbols are prefixed by <code>'_'</code> instead of <code>'.'</code>. For
 Devpac compatbility, which offers a similar option.
</p>
</dd>
<dt> &lsquo;<samp>-phxass</samp>&rsquo;</dt>
<dd><p> PhxAss-compatibilty mode. Only directives known to PhxAss are recognized.
 Enables the following features:
</p><ul class="toc">
<li>- <code>section &lt;name&gt;</code> starts a code section named <code>&lt;name&gt;</code>
        instead of a section which also has the type <code>&lt;name&gt;</code>.
  </li><li>- Enable escape codes handling in strings (see &lsquo;<samp>-esc</samp>&rsquo;).
  </li><li>- Macro names are treated as case-insensitive.
  </li><li>- Up to 35 macro arguments.
  </li><li>- Allow blanks in operands.
  </li><li>- Defines the symbol <code>_PHXASS_</code> with value 2 (to differentiate
        from the real PhxAss with value 1).
  </li><li>- When no output file name is given, construct it from the input name.
</li></ul>

</dd>
<dt> &lsquo;<samp>-spaces</samp>&rsquo;</dt>
<dd><p> Allow blanks in operands.
</p>
</dd>
</dl>

<hr size="6">
<a name="General-Syntax-2"></a>
<h2 class="section">4.3 General Syntax</h2>

<p>Labels must either start at the first column of a line or need to be
terminated by a colon (<code>:</code>). In the first case the mnemonic
has to be separated from the label by whitespace (not required in any case,
e.g. with a <code>=</code> directive). Qualifiers are appended to the mnemonic,
separated by a dot (if the CPU-module supports qualifiers). The
operands are separated from the mnemonic by whitespace. Multiple
operands are separated by comma (<code>,</code>).
</p>
<p>Local labels are preceded by &rsquo;<code>.</code>&rsquo; or terminated by &rsquo;<code>$</code>&rsquo;.
For the rest, any alphanumeric character including &rsquo;<code>_</code>&rsquo; is allowed.
Local labels are valid between two global label definitions.
</p>
<p>Otherwise dots (<code>.</code>) are not allowed within a label by default, unless
the option &lsquo;<samp>-ldots</samp>&rsquo; or &lsquo;<samp>-devpac</samp>&rsquo; was specified. Even then,
labels ending on <code>.b</code>, <code>.w</code> or <code>.l</code> can&rsquo;t be defined.
</p>
<p>It is possible to refer to any local symbol in the source by preceding its
name with the name of the last global symbol, which was defined before:
<code>global_name\local_name</code>. This is for PhxAss compatibility only,
and is no recommended style. Does not work in a macro, as it conflicts
with macro arguments.
</p>
<p>Make sure that you don&rsquo;t define a label on the same line as a
directive for conditional assembly (if, else, endif)! This is not supported.
</p>
<p>In this syntax module, the operand field must not contain any whitespace
characters, as long as the option &lsquo;<samp>-spaces</samp>&rsquo; was not specified.
</p>
<p>Comments are introduced by the comment character <code>;</code> or <code>*</code>.
The rest of the line will be ignored. Also everything following the operand
field, separated by a whitespace, will be regarded as comment (unless
&lsquo;<samp>-spaces</samp>&rsquo;). Be careful with <code>*</code>, which is recognized as the
&quot;current pc symbol&quot; in any operand expression
</p>
<p>Example:
</p>
<p><code>mylabel inst.q op1,op2,op3  ;comment</code>
</p>
<p>In expressions, numbers starting with <code>$</code> are hexadecimal (e.g.
<code>$fb2c</code>). <code>%</code> introduces binary numbers (e.g. <code>%1100101</code>).
Numbers starting with <code>@</code> are assumed to be octal numbers, e.g.
<code>@237</code>. All numbers starting with a digit are decimal, e.g. 
<code>1239</code>.
</p>

<hr size="6">
<a name="Directives"></a>
<h2 class="section">4.4 Directives</h2>

<p>The following directives are supported by this syntax module (provided the
CPU- and output-module support them):
</p>
<dl compact="compact">
<dt> <code>&lt;symbol&gt; = &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; equ &lt;expression&gt;</code>.
</p>
</dd>
<dt> <code>&lt;symbol&gt; =.s &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.s &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>&lt;symbol&gt; =.d &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.d &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>&lt;symbol&gt; =.x &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.x &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>&lt;symbol&gt; =.p &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.p &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>align &lt;bitcount&gt;</code></dt>
<dd><p>      Insert as much zero bytes as required to reach an address where
      &lt;bitcount&gt; low order bits are zero. For example <code>align 2</code> would
      make an alignment to the next 32-bit boundary.
      Equivalent to <code>cnop 0,1&lt;&lt;bitcount</code>.
</p>
</dd>
<dt> <code>blk.b &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Equivalent to <code>dcb.b &lt;exp&gt;,&lt;fill&gt;</code>.
</p>
</dd>
<dt> <code>blk.d &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Equivalent to <code>dcb.d &lt;exp&gt;,&lt;fill&gt;</code>.
</p>
</dd>
<dt> <code>blk.l &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Equivalent to <code>dcb.l &lt;exp&gt;,&lt;fill&gt;</code>.
</p>
</dd>
<dt> <code>blk.q &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Equivalent to <code>dcb.q &lt;exp&gt;,&lt;fill&gt;</code>.
</p>
</dd>
<dt> <code>blk.s &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Equivalent to <code>dcb.s &lt;exp&gt;,&lt;fill&gt;</code>.
</p>
</dd>
<dt> <code>blk.w &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Equivalent to <code>dcb.w &lt;exp&gt;,&lt;fill&gt;</code>.
</p>
</dd>
<dt> <code>blk.x &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Equivalent to <code>dcb.x &lt;exp&gt;,&lt;fill&gt;</code>.
</p>
</dd>
<dt> <code>bss</code></dt>
<dd><p>      Equivalent to <code>section bss,bss</code>.
</p>
</dd>
<dt> <code>bss_c</code></dt>
<dd><p>      Equivalent to <code>section bss_c,bss,chip</code>.
</p>
</dd>
<dt> <code>bss_f</code></dt>
<dd><p>      Equivalent to <code>section bss_f,bss,fast</code>.
</p>
</dd>
<dt> <code>cargs [#&lt;offset&gt;,]&lt;symbol1&gt;[.&lt;size1&gt;][,&lt;symbol2&gt;[.&lt;size2&gt;]]...</code></dt>
<dd><p>      Defines &lt;symbol1&gt; with the value of &lt;offset&gt;. Further symbols
      on the line, separated by comma, will be assigned the &lt;offset&gt; plus
      the size of the previous symbol. The size defaults to 2. Valid
      optional size extensions are: <code>.b</code>, <code>.w</code>, <code>.l</code>,
      where <code>.l</code> results in a size of 4, the others 2.
      The &lt;offset&gt; argument defaults to 4, when not given.
</p>
</dd>
<dt> <code>clrfo</code></dt>
<dd><p>      Reset stack-frame offset counter to zero. See <code>fo</code> directive.
</p>
</dd>
<dt> <code>clrso</code></dt>
<dd><p>      Reset structure offset counter to zero. See <code>so</code> directive.
</p>
</dd>
<dt> <code>cnop &lt;offset&gt;,&lt;alignment&gt;</code></dt>
<dd><p>      Insert as much zero bytes as required to reach an address which
      can be divided by &lt;alignment&gt;. Then add &lt;offset&gt; zero bytes.
</p>
</dd>
<dt> <code>code</code></dt>
<dd><p>      Equivalent to <code>section code,code</code>.
</p>
</dd>
<dt> <code>code_c</code></dt>
<dd><p>      Equivalent to <code>section code_c,code,chip</code>.
</p>
</dd>
<dt> <code>code_f</code></dt>
<dd><p>      Equivalent to <code>section code_f,code,fast</code>.
</p>
</dd>
<dt> <code>comment</code></dt>
<dd><p>      Everything in the operand field is ignored and seen as a comment.
      There is only one exception, when the operand contains <code>HEAD=</code>.
      Then the following expression is passed to the TOS output module
      via the symbol &rsquo;<code> TOSFLAGS</code>&rsquo;, to define the Atari specific TOS
      flags.
</p>
</dd>
<dt> <code>cseg</code></dt>
<dd><p>      Equivalent to <code>section code,code</code>.
</p>
</dd>
<dt> <code>data</code></dt>
<dd><p>      Equivalent to <code>section data,data</code>.
</p>
</dd>
<dt> <code>data_c</code></dt>
<dd><p>      Equivalent to <code>section data_c,data,chip</code>.
</p>
</dd>
<dt> <code>data_f</code></dt>
<dd><p>      Equivalent to <code>section data_f,data,fast</code>.
</p>
</dd>
<dt> <code>dc.b &lt;exp1&gt;[,&lt;exp2&gt;,&quot;&lt;string1&gt;&quot;,'&lt;string2&gt;'...]</code></dt>
<dd><p>      Assign the integer or string constant operands into successive
      bytes of memory in the current section. Any combination of integer
      and character string constant operands is permitted.
</p>
</dd>
<dt> <code>dc.d &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Assign the values of the operands into successive 64-bit words
      of memory in the current section. Also IEEE double precision
      floating point constants are allowed.
</p>
</dd>
<dt> <code>dc.l &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Assign the values of the operands into successive 32-bit words
      of memory in the current section.
</p>
</dd>
<dt> <code>dc.q &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Assign the values of the operands into successive 64-bit words
      of memory in the current section.
</p>
</dd>
<dt> <code>dc.s &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Assign the values of the operands into successive 32-bit words
      of memory in the current section. Also IEEE single precision
      floating point constants are allowed.
</p>
</dd>
<dt> <code>dc.w &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Assign the values of the operands into successive 16-bit words
      of memory in the current section.
</p>
</dd>
<dt> <code>dc.x &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Assign the values of the operands into successive 96-bit words
      of memory in the current section. Also IEEE extended precision
      floating point constants are allowed.
</p>
</dd>
<dt> <code>dcb.b &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Insert &lt;exp&gt; zero or &lt;fill&gt; bytes into the current section.
</p>
</dd>
<dt> <code>dcb.d &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Insert &lt;exp&gt; zero or &lt;fill&gt; 64-bit words into the current section.
      &lt;fill&gt; might also be an IEEE double precision constant.
</p>
</dd>
<dt> <code>dcb.l &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Insert &lt;exp&gt; zero or &lt;fill&gt; 32-bit words into the current section.
</p>
</dd>
<dt> <code>dcb.q &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Insert &lt;exp&gt; zero or &lt;fill&gt; 64-bit words into the current section.
</p>
</dd>
<dt> <code>dcb.s &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Insert &lt;exp&gt; zero or &lt;fill&gt; 32-bit words into the current section.
      &lt;fill&gt; might also be an IEEE single precision constant.
</p>
</dd>
<dt> <code>dcb.w &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Insert &lt;exp&gt; zero or &lt;fill&gt; 16-bit words into the current section.
</p>
</dd>
<dt> <code>dcb.x &lt;exp&gt;[,&lt;fill&gt;]</code></dt>
<dd><p>      Insert &lt;exp&gt; zero or &lt;fill&gt; 96-bit words into the current section.
      &lt;fill&gt; might also be an IEEE extended precision constant.
</p>
</dd>
<dt> <code>dr.b &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Calculates &lt;expN&gt; - &lt;current pc value&gt; and stores it into successive
      bytes of memory in the current section.
</p>
</dd>
<dt> <code>dr.w &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Calculates &lt;expN&gt; - &lt;current pc value&gt; and stores it into successive
      16-bit words of memory in the current section.
</p>
</dd>
<dt> <code>dr.l &lt;exp1&gt;[,&lt;exp2&gt;...]</code></dt>
<dd><p>      Calculates &lt;expN&gt; - &lt;current pc value&gt; and stores it into successive
      32-bit words of memory in the current section.
</p>
</dd>
<dt> <code>ds.b &lt;exp&gt;</code></dt>
<dd><p>      Equivalent to <code>dcb.b &lt;exp&gt;,0</code>.
</p>
</dd>
<dt> <code>ds.d &lt;exp&gt;</code></dt>
<dd><p>      Equivalent to <code>dcb.d &lt;exp&gt;,0</code>.
</p>
</dd>
<dt> <code>ds.l &lt;exp&gt;</code></dt>
<dd><p>      Equivalent to <code>dcb.l &lt;exp&gt;,0</code>.
</p>
</dd>
<dt> <code>ds.q &lt;exp&gt;</code></dt>
<dd><p>      Equivalent to <code>dcb.q &lt;exp&gt;,0</code>.
</p>
</dd>
<dt> <code>ds.s &lt;exp&gt;</code></dt>
<dd><p>      Equivalent to <code>dcb.s &lt;exp&gt;,0</code>.
</p>
</dd>
<dt> <code>ds.w &lt;exp&gt;</code></dt>
<dd><p>      Equivalent to <code>dcb.w &lt;exp&gt;,0</code>.
</p>
</dd>
<dt> <code>ds.x &lt;exp&gt;</code></dt>
<dd><p>      Equivalent to <code>dcb.x &lt;exp&gt;,0</code>.
</p>
</dd>
<dt> <code>dseg</code></dt>
<dd><p>      Equivalent to <code>section data,data</code>.
</p>
</dd>
<dt> <code>echo &lt;string&gt;</code></dt>
<dd><p>      Prints &lt;string&gt; to stdout.
</p>
</dd>
<dt> <code>else</code></dt>
<dd><p>      Assemble the following lines if the previous <code>if</code> condition
      was false.
</p>
</dd>
<dt> <code>end</code></dt>
<dd><p>      Assembly will terminate behind this line.
</p>
</dd>
<dt> <code>endif</code></dt>
<dd><p>      Ends a section of conditional assembly.
</p>
</dd>
<dt> <code>endm</code></dt>
<dd><p>      Ends a macro definition.
</p>
</dd>
<dt> <code>endr</code></dt>
<dd><p>      Ends a repetition block.
</p>
</dd>
<dt> <code>&lt;symbol&gt; equ &lt;expression&gt;</code></dt>
<dd><p>      Define a new program symbol with the name &lt;symbol&gt; and assign to it
      the value of &lt;expression&gt;. Defining &lt;symbol&gt; twice will cause
      an error.
</p>
</dd>
<dt> <code>&lt;symbol&gt; equ.s &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.s &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>&lt;symbol&gt; equ.d &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.d &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>&lt;symbol&gt; equ.x &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.x &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>&lt;symbol&gt; equ.p &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.p &lt;expression&gt;</code>. PhxAss compatibility.
</p>
</dd>
<dt> <code>erem</code></dt>
<dd><p>      Ends an outcommented block. Assembly will continue.
</p>
</dd>
<dt> <code>even</code></dt>
<dd><p>      Aligns to an even address. Equivalent to <code>cnop 0,2</code>.
</p>
</dd>
<dt> <code>fail &lt;message&gt;</code></dt>
<dd><p>      Show an error message including the &lt;message&gt; string. Do not generate
      an ouput file.
</p>
</dd>
<dt> <code>&lt;symbol&gt; fequ.s &lt;expression&gt;</code></dt>
<dd><p>      Define a new program symbol with the name &lt;symbol&gt; and assign to it
      the floating point value of &lt;expression&gt;. Defining &lt;symbol&gt; twice
      will cause an error. The extension is for Devpac-compatibility, but
      will be ignored.
</p>
</dd>
<dt> <code>&lt;symbol&gt; fequ.d &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.s &lt;expression&gt;</code>.
</p>
</dd>
<dt> <code>&lt;symbol&gt; fequ.x &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.s &lt;expression&gt;</code>.
</p>
</dd>
<dt> <code>&lt;symbol&gt; fequ.p &lt;expression&gt;</code></dt>
<dd><p>      Equivalent to <code>&lt;symbol&gt; fequ.s &lt;expression&gt;</code>.
</p>
</dd>
<dt> <code>&lt;label&gt; fo.&lt;size&gt; &lt;expression&gt;</code></dt>
<dd><p>      Assigns the current value of the stack-frame offset counter to &lt;label&gt;.
      Afterwards the counter is decremented by the instruction&rsquo;s &lt;size&gt;
      multiplied by &lt;expression&gt;. Any valid M68k size extension is allowed
      for &lt;size&gt;: b, w, l, q, s, d, x, p.
      The offset counter can also be referenced directly under the name
      <code>__FO</code>.
</p>
</dd>
<dt> <code>idnt &lt;name&gt;</code></dt>
<dd><p>      Sets the file or module name in the generated object file to
      &lt;name&gt;, when the selected output module supports it. By default,
      the input filename passed on the command line is used.
</p>
</dd>
<dt> <code>if &lt;expression&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;expression&gt; is non-zero.
</p>
</dd>
<dt> <code>ifeq &lt;expression&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;expression&gt; is zero.
</p>
</dd>
<dt> <code>ifne &lt;expression&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;expression&gt; is non-zero.
</p>
</dd>
<dt> <code>ifgt &lt;expression&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;expression&gt; is
      greater than zero.
</p>
</dd>
<dt> <code>ifge &lt;expression&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;expression&gt; is
      greater than zero or equal.
</p>
</dd>
<dt> <code>iflt &lt;expression&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;expression&gt; is
      less than zero.
</p>
</dd>
<dt> <code>ifle &lt;expression&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;expression&gt; is
      less than zero or equal.
</p>
</dd>
<dt> <code>ifb &lt;operand&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines when &lt;operand&gt; is
      completely blank, except an optional comment.
</p>
</dd>
<dt> <code>ifnb &lt;operand&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines when &lt;operand&gt; is
      non-blank.
</p>
</dd>
<dt> <code>ifc &lt;string1&gt;,&lt;string2&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;string1&gt; matches
      &lt;string2&gt;.
</p>
</dd>
<dt> <code>ifnc &lt;string1&gt;,&lt;string2&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;string1&gt; does not
      match &lt;string2&gt;.
</p>
</dd>
<dt> <code>ifd &lt;symbol&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;symbol&gt; is defined.
</p>
</dd>
<dt> <code>ifnd &lt;symbol&gt;</code></dt>
<dd><p>      Conditionally assemble the following lines if &lt;symbol&gt; is undefined.
</p>
</dd>
<dt> <code>incbin &lt;file&gt;</code></dt>
<dd><p>      Inserts the binary contents of &lt;file&gt; into the object code at
      this position. The file will be searched first in the current
      directory, then in all paths defined by &lsquo;<samp>-I</samp>&rsquo; or <code>incdir</code>
      in the order of occurence.
</p>
</dd>
<dt> <code>incdir &lt;path&gt;</code></dt>
<dd><p>      Add another path to search for include files to the list of
      known paths. Paths defined with &lsquo;<samp>-I</samp>&rsquo; on the command line are
      searched first.
</p>
</dd>
<dt> <code>include &lt;file&gt;</code></dt>
<dd><p>      Include source text of &lt;file&gt; at this position. The include file
      will be searched first in the current directory, then in all
      paths defined by &lsquo;<samp>-I</samp>&rsquo; or <code>incdir</code> in the order of
      occurence.
</p>
</dd>
<dt> <code>list</code></dt>
<dd><p>      The following lines will appear in the listing file, if it was
      requested.
</p>
</dd>
<dt> <code>llen &lt;len&gt;</code></dt>
<dd><p>      Set the line length in a listing file to a maximum of &lt;len&gt; characters.
      Currently without any effect.
</p>
</dd>
<dt> <code>macro &lt;name&gt;</code></dt>
<dd><p>      Defines a macro which can be referenced by &lt;name&gt;. The &lt;name&gt;
      may also appear at the left side of the <code>macro</code> directive,
      starting at the first column. Then the operand field is ignored.
      The macro definition is closed
      by an <code>endm</code> directive. When calling a macro you may pass
      up to 9 arguments, separated by comma. Those arguments are
      referenced within the macro context as <code>\1</code> to <code>\9</code>.
      Argument <code>\0</code> is set to the macro&rsquo;s first qualifier
      (mnemonic extension), when given.
      In Devpac- and PhxAss-compatibility mode up to 35 arguments are
      accepted, where argument 10-35 can be referenced by <code>\a</code> to
      <code>\z</code>.
      The special argument <code>\@</code> inserts a unique id, useful for
      defining labels. <code>\#</code> is replaced by the number of arguments
      (also stored in <code>NARG</code>) and <code>\?n</code> is replaced by the
      length of argument <code>n</code>.
      <code>\.</code> selects the argument indexed by the current value of
      <code>CARG</code>. <code>\+</code> and <code>\-</code> do the same, but additionally
      post-increment and post-decrement <code>CARG</code>.
      <code>\()</code> may be used as a separator between the name of a macro
      argument and the subsequent text.
</p>
</dd>
<dt> <code>mexit</code></dt>
<dd><p>      Leave the current macro and continue with assembling the parent
      context. Note that this directive also resets the level of conditional
      assembly to a state before the macro was invoked (which means that
      it works as a &rsquo;break&rsquo; command on all new <code>if</code> directives).
</p>
</dd>
<dt> <code>nolist</code></dt>
<dd><p>      The following lines will not be visible in a listing file.
</p>
</dd>
<dt> <code>nopage</code></dt>
<dd><p>      Never start a new page in the listing file.
      This implementation will only prevent emitting the formfeed code.
</p>
</dd>
<dt> <code>odd</code></dt>
<dd><p>      Aligns to an odd address. Equivalent to <code>cnop 1,2</code>.
</p>
</dd>
<dt> <code>offset [&lt;expression&gt;]</code></dt>
<dd><p>      Switches to a special offset-section. The contents of such a section
      is not included in the output. Their labels may be referenced as
      absolute offset symbols. Can be used to define structure offsets.
      The optional &lt;expression&gt; gives the start offset for this section.
      When missing the last offset of the previous offset-section is used,
      or 0.
</p>
</dd>
<dt> <code>org &lt;expression&gt;</code></dt>
<dd><p>      Sets the base address for the subsequent code.
</p>
</dd>
<dt> <code>output &lt;name&gt;</code></dt>
<dd><p>      Sets the output file name to <code>&lt;name&gt;</code> when no output name was
      given on the command line. A special case for Devpac-compatibility
      is when <code>&lt;name&gt;</code> starts with a <code>'.'</code> and an output name was
      already given. Then the current output name gets <code>&lt;name&gt;</code>
      appended as an extension. When an extension already exists,
      then it is replaced.
</p>
</dd>
<dt> <code>page</code></dt>
<dd><p>      Start a new page in the listing file (not implemented).
      Make sure to start a new page when the maximum page length is reached.
</p>
</dd>
<dt> <code>plen &lt;len&gt;</code></dt>
<dd><p>      The the page length for a listing file to &lt;len&gt; lines.
      Currently ignored.
</p>
</dd>
<dt> <code>printt &lt;string&gt;</code></dt>
<dd><p>      Prints &lt;string&gt; to stdout.
</p>
</dd>
<dt> <code>printv &lt;expression&gt;</code></dt>
<dd><p>      Evaluate &lt;expression&gt; and print it to stdout out in decimal and
      hexadecimal form.
</p>
</dd>
<dt> <code>public &lt;symbol&gt;[,&lt;symbol&gt;...]</code></dt>
<dd><p>      Flag &lt;symbol&gt; as an external symbol, which means that &lt;symbol&gt; is
      visible to all modules in the linking process. It may be either
      defined or undefined.
</p>
</dd>
<dt> <code>rem</code></dt>
<dd><p>      The assembler will ignore everything from encountering the <code>rem</code>
      directive until an <code>erem</code> directive was found.
</p>
</dd>
<dt> <code>rept &lt;expression&gt;</code></dt>
<dd><p>      Repeats the assembly of the block between <code>rept</code> and <code>endr</code>
      &lt;expression&gt; number of times. &lt;expression&gt; has to be positive.
      The internal symbol <code>REPTN</code> always holds the iteration counter
      of the inner repeat loop, starting with 0. <code>REPTN</code> is -1 outside
      of any repeat block.
</p>
</dd>
<dt> <code>rorg &lt;expression&gt;</code></dt>
<dd><p>      Sets the program counter &lt;expression&gt; bytes behind the start of the
      current section. The new program counter must not be smaller than the
      current one. The space will be padded with zeros.
</p>
</dd>
<dt> <code>&lt;label&gt; rs.&lt;size&gt; &lt;expression&gt;</code></dt>
<dd><p>      Works like the <code>so</code> directive, with the only difference that
      the offset symbol is named <code>__RS</code>.
</p>
</dd>
<dt> <code>rsreset</code></dt>
<dd><p>      Equivalent to <code>clrso</code>, but the symbol manipulated is <code>__RS</code>.
</p>
</dd>
<dt> <code>rsset</code></dt>
<dd><p>      Equivalent to <code>setso</code>, but the symbol manipulated is <code>__RS</code>.
</p>
</dd>
<dt> <code>section [&lt;name&gt;,]&lt;sec_type&gt;[,&lt;mem_type&gt;]]</code></dt>
<dd><p>      Starts a new section named <code>&lt;name&gt;</code> or reactivates an old one.
      <code>&lt;sec_type&gt;</code> defines the section type and may be <code>code</code>,
      <code>text</code> (same as <code>code</code>), <code>data</code> or <code>bss</code>.
      <code>&lt;sec_type&gt;</code> defaults to <code>code</code> in Phxass mode. Otherwise
      a single argument will start a section with the type and name of
      <code>&lt;sec_type&gt;</code>. When <code>&lt;mem_type&gt;</code> is given
      it defines the type of memory, where the section can
      be loaded. This is Amiga-specific, and allowed identifiers are
      <code>chip</code> for Chip-RAM and <code>fast</code> for Fast-RAM. Optionally
      it is also possible to attach the suffix <code>_C</code>, <code>_F</code> or
      <code>_P</code> to the <code>&lt;sec_type&gt;</code> argument for defining the memory type.
</p>
</dd>
<dt> <code>&lt;symbol&gt; set &lt;expression&gt;</code></dt>
<dd><p>      Create a new symbol with the name &lt;symbol&gt; and assign
      the value of &lt;expression&gt;. If &lt;symbol&gt; is already assigned, it will
      contain a new value from now on.
</p>
</dd>
<dt> <code>setfo &lt;expression&gt;</code></dt>
<dd><p>      Sets the stack-frame offset counter to &lt;expresion&gt;.
      See <code>fo</code> directive.
</p>
</dd>
<dt> <code>setso &lt;expression&gt;</code></dt>
<dd><p>      Sets the structure offset counter to &lt;expresion&gt;.
      See <code>so</code> directive.
</p>
</dd>
<dt> <code>&lt;label&gt; so.&lt;size&gt; &lt;expression&gt;</code></dt>
<dd><p>      Assigns the current value of the structure offset counter to &lt;label&gt;.
      Afterwards the counter is incremented by the instruction&rsquo;s &lt;size&gt;
      multiplied by &lt;expression&gt;. Any valid M68k size extension is allowed
      for &lt;size&gt;: b, w, l, q, s, d, x, p.
      The offset counter can also be referenced directly under the name
      <code>__SO</code>.
</p>
</dd>
<dt> <code>spc &lt;lines&gt;</code></dt>
<dd><p>      Output &lt;lines&gt; number of blank lines in the listing file.
      Currently without any effect.
</p>
</dd>
<dt> <code>text</code></dt>
<dd><p>      Equivalent to <code>section code,code</code>.
</p>
</dd>
<dt> <code>ttl &lt;name&gt;</code></dt>
<dd><p>      PhxAss syntax. Equivalent to <code>idnt &lt;name&gt;</code>.
</p>
</dd>
<dt> <code>&lt;name&gt; ttl</code></dt>
<dd><p>      Motorola syntax. Equivalent to <code>idnt &lt;name&gt;</code>.
</p>
</dd>
<dt> <code>xdef &lt;symbol&gt;[,&lt;symbol&gt;...]</code></dt>
<dd><p>      Flag &lt;symbol&gt; as an global symbol, which means that
      &lt;symbol&gt; is visible to all modules in the linking process.
      See also <code>public</code>.
</p>
</dd>
<dt> <code>xref &lt;symbol&gt;[,&lt;symbol&gt;...]</code></dt>
<dd><p>      Flag &lt;symbol&gt; as externally defined, which means it has to
      be important from another module in the linking process.
      See also <code>public</code>.
</p>
</dd>
</dl>

<hr size="6">
<a name="Known-Problems-20"></a>
<h2 class="section">4.5 Known Problems</h2>

<p>    Some known problems of this module at the moment:
</p>
<ul class="toc">
<li>- None?

</li></ul>

<hr size="6">
<a name="Error-Messages-8"></a>
<h2 class="section">4.6 Error Messages</h2>

<p>This module has the following error messages:
</p>
<ul class="toc">
<li>- 1001: mnemonic expected
</li><li>- 1002: invalid extension
</li><li>- 1003: no space before oprands
</li><li>- 1004: too many closing parentheses
</li><li>- 1005: missing closing parentheses
</li><li>- 1006: missing operand
</li><li>- 1007: garbage at end of line
</li><li>- 1008: syntax error
</li><li>- 1009: invalid data operand
</li><li>- 1010: , expected
</li><li>- 1011: identifier expected
</li><li>- 1012: directive has no effect
</li><li>- 1013: expression must be a constant
</li><li>- 1014: illegal section type
</li><li>- 1015: repeatedly defined symbol
</li><li>- 1016: illegal memory type
</li><li>- 1017: unexpected %s without %s
</li><li>- 1018: endc/endif missing for conditional block started at %s line %d
</li><li>- 1020: maximum if-nesting depth exceeded (%d levels)
</li><li>- 1022: missing %c

</li></ul>

<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mot-Syntax-Module" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="vasm_4.html#Oldstyle-Syntax-Module" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="vasm_0.html#General-9" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="vasm_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="vasm_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Luis Panadero Guarde√±o</em> on <em>January 13, 2015</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
